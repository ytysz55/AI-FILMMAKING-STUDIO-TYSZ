

## ğŸ¯ GÃœNCEL TEKNÄ°K BULGULAR VE OPTÄ°MÄ°ZE MÄ°MARÄ°

### ğŸ“Œ YENÄ° KEÅFEDÄ°LEN Ã–NEMLÄ° Ã–ZELLÄ°KLER

#### 1. **Implicit Caching (MayÄ±s 2025+)**
Google otomatik olarak benzer prefix'leri cache'liyor. Ekstra kod yazmana gerek yok!
- BÃ¼yÃ¼k iÃ§erikleri **prompt baÅŸÄ±na** koy
- Benzer istekleri **kÄ±sa sÃ¼rede** gÃ¶nder
- **%75'e varan indirim** otomatik

#### 2. **PDF Native Text Extraction (Gemini 3)**
```
ğŸ“„ PDF Ä°ÅŸleme (Gemini 3):
â”œâ”€â”€ Native text: ÃœCRETSÄ°Z (token Ã¼creti yok!)
â”œâ”€â”€ GÃ¶rsel iÃ§erik: 258 token/sayfa
â”œâ”€â”€ Max: 50MB veya 1000 sayfa
â””â”€â”€ media_resolution: low/medium/high ayarlanabilir
```

#### 3. **Live API - Session Resumption** (KeÅŸif!)
```python
# WebSocket baÄŸlantÄ±sÄ± kesildiyse oturum DEVAM edebilir!
# 2 saat geÃ§erli resumption token
sessionResumption: {
    handle: "previous_session_token"  # Ã–nceki oturumdan
}
```
**Bizim iÃ§in uygun mu?** HayÄ±r - Live API gerÃ§ek zamanlÄ± ses/video iÃ§in. Ama fikir olarak not alalÄ±m.

#### 4. **Context Window Compression (Sliding Window)**
```python
# Long session'lar iÃ§in:
contextWindowCompression: {
    sliding_window: {...},
    trigger_tokens: 800000  # 800K'ya ulaÅŸÄ±nca sÄ±kÄ±ÅŸtÄ±r
}
```
**Bizim iÃ§in uygun mu?** Belki - Ã§ok uzun senaryolarda kullanabiliriz.

---

### ğŸ—ï¸ OPTÄ°MÄ°ZE EDÄ°LMÄ°Å FÄ°NAL MÄ°MARÄ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AI FILM YAPIM STÃœDYOSU - FÄ°NAL MÄ°MARÄ°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                        PROJE BAÅLATMA AÅAMASI                             â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚  [1] KAYNAK YÃœKLEME (Files API - ÃœCRETSÄ°Z)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # PDF/TXT/DOCX dosyasÄ±nÄ± Google'a yÃ¼kle                               â”‚    â”‚
â”‚  â”‚   uploaded_file = client.files.upload(file="kaynak_kitap.pdf")          â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   ğŸ“Œ Ã–zellikler:                                                        â”‚    â”‚
â”‚  â”‚   â€¢ 48 saat saklanÄ±r                                                    â”‚    â”‚
â”‚  â”‚   â€¢ 2GB / dosya limit                                                   â”‚    â”‚
â”‚  â”‚   â€¢ ÃœCRETSÄ°Z!                                                           â”‚    â”‚
â”‚  â”‚   â€¢ PDF native text â†’ Token Ã¼creti YOK (Gemini 3)                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                           â”‚
â”‚                                      â–¼                                           â”‚
â”‚  [2] PROJE CACHE OLUÅTUR (Explicit Cache)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # System prompt + Kaynak materyal cache'le                            â”‚    â”‚
â”‚  â”‚   project_cache = client.caches.create(                                 â”‚    â”‚
â”‚  â”‚       model="gemini-3-pro-preview",                                     â”‚    â”‚
â”‚  â”‚       config=CreateCachedContentConfig(                                 â”‚    â”‚
â”‚  â”‚           display_name=f"project_{project_id}",                         â”‚    â”‚
â”‚  â”‚           system_instruction=SENARYO_SYSTEM_PROMPT,  # senaryo.md       â”‚    â”‚
â”‚  â”‚           contents=[uploaded_file],                                     â”‚    â”‚
â”‚  â”‚           ttl="10800s"  # 3 saat                                        â”‚    â”‚
â”‚  â”‚       )                                                                  â”‚    â”‚
â”‚  â”‚   )                                                                      â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   ğŸ“Œ Avantajlar:                                                        â”‚    â”‚
â”‚  â”‚   â€¢ Cached token = %75 ucuz                                             â”‚    â”‚
â”‚  â”‚   â€¢ Her istekte kaynak tekrar gÃ¶nderilmiyor                             â”‚    â”‚
â”‚  â”‚   â€¢ TTL uzatÄ±labilir (cache.update)                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                      SENARYO YAZIM MODÃœLÃœ (FAZ 1)                         â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚  [3] CHAT OTURUMU BAÅLAT                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # Cache referansÄ±yla chat baÅŸlat                                      â”‚    â”‚
â”‚  â”‚   scenario_chat = client.chats.create(                                  â”‚    â”‚
â”‚  â”‚       model="gemini-3-pro-preview",                                     â”‚    â”‚
â”‚  â”‚       config=GenerateContentConfig(                                     â”‚    â”‚
â”‚  â”‚           cached_content=project_cache.name,                            â”‚    â”‚
â”‚  â”‚           thinking_config=ThinkingConfig(thinking_level="high")         â”‚    â”‚
â”‚  â”‚       )                                                                  â”‚    â”‚
â”‚  â”‚   )                                                                      â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   ğŸ“Œ SDK Otomatik YÃ¶netim:                                              â”‚    â”‚
â”‚  â”‚   â€¢ chat.get_history() â†’ TÃ¼m geÃ§miÅŸ                                     â”‚    â”‚
â”‚  â”‚   â€¢ Her send_message() Ã¶nceki mesajlarÄ± dahil eder                      â”‚    â”‚
â”‚  â”‚   â€¢ Streaming destekli: send_message_stream()                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                           â”‚
â”‚                                      â–¼                                           â”‚
â”‚  [4] Ä°NTERAKTÄ°F SENARYO AKIÅI                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚ Kaynak Analizâ”‚ â†’ "3 film konsepti Ã¶ner"                             â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚ Konsept SeÃ§imâ”‚ â†’ "1. konsepti seÃ§, 40 dk film"                      â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚ Karakter Kartâ”‚ â†’ Syd Field kimlik kartÄ±                             â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚ Beat Sheet   â”‚ â†’ Save the Cat 15 beat                               â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚ Sahne Outlineâ”‚ â†’ Zaman etiketli liste                               â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚    â”‚
â”‚  â”‚   â”‚         DÃ–NGÃœSEL SAHNE YAZIMI            â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â”‚ Sahne 1 â”‚â”€â”€â–¶â”‚  ONAY?  â”‚â”€â”€â–¶â”‚ Sahne 2 â”‚ â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â”‚   +     â”‚   â”‚ Revize? â”‚   â”‚   +     â”‚ â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â”‚  DUR    â”‚   â”‚  Uzat?  â”‚   â”‚  DUR    â”‚ â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚                                          â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  ğŸ“Š Her yanÄ±tta:                         â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â€¢ response.usage_metadata               â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â€¢ prompt_token_count (toplam input)     â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â€¢ cached_content_token_count            â”‚                          â”‚    â”‚
â”‚  â”‚   â”‚  â€¢ candidates_token_count (output)       â”‚                          â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚    â”‚
â”‚  â”‚          â”‚                                                               â”‚    â”‚
â”‚  â”‚          â–¼                                                               â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚    â”‚
â”‚  â”‚   â”‚  OPTÄ°MÄ°ZASYON â”‚ â†’ Script Doctor analizi                             â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                           â”‚
â”‚                                      â–¼                                           â”‚
â”‚  [5] SENARYO Ã‡IKTI (Structured Output)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # JSON formatÄ±nda yapÄ±landÄ±rÄ±lmÄ±ÅŸ Ã§Ä±ktÄ±                               â”‚    â”‚
â”‚  â”‚   response = client.models.generate_content(                            â”‚    â”‚
â”‚  â”‚       model="gemini-3-pro-preview",                                     â”‚    â”‚
â”‚  â”‚       contents=chat.get_history() + ["Senaryoyu JSON Ã§Ä±kar"],           â”‚    â”‚
â”‚  â”‚       config={                                                          â”‚    â”‚
â”‚  â”‚           "cached_content": project_cache.name,                         â”‚    â”‚
â”‚  â”‚           "response_mime_type": "application/json",                     â”‚    â”‚
â”‚  â”‚           "response_json_schema": Screenplay.model_json_schema()        â”‚    â”‚
â”‚  â”‚       }                                                                  â”‚    â”‚
â”‚  â”‚   )                                                                      â”‚    â”‚
â”‚  â”‚   screenplay = Screenplay.model_validate_json(response.text)            â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   # Dosyaya kaydet                                                      â”‚    â”‚
â”‚  â”‚   save_json("screenplay.json", screenplay)                              â”‚    â”‚
â”‚  â”‚   save_json("characters.json", extract_characters(screenplay))          â”‚    â”‚
â”‚  â”‚   save_json("locations.json", extract_locations(screenplay))            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                      MODÃœL GEÃ‡Ä°ÅÄ° (FAZ 2+)                                â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚  [6] YENÄ° MODÃœL = YENÄ° CACHE (FarklÄ± System Prompt)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # Senaryo Ã§Ä±ktÄ±sÄ±nÄ± yeni cache'e al                                   â”‚    â”‚
â”‚  â”‚   asset_cache = client.caches.create(                                   â”‚    â”‚
â”‚  â”‚       model="gemini-3-flash-preview",  # Daha hÄ±zlÄ± model!              â”‚    â”‚
â”‚  â”‚       config=CreateCachedContentConfig(                                 â”‚    â”‚
â”‚  â”‚           display_name=f"project_{project_id}_asset",                   â”‚    â”‚
â”‚  â”‚           system_instruction=ASSET_SYSTEM_PROMPT,  # asset.md           â”‚    â”‚
â”‚  â”‚           contents=["screenplay.json iÃ§eriÄŸi"],                         â”‚    â”‚
â”‚  â”‚           ttl="3600s"                                                   â”‚    â”‚
â”‚  â”‚       )                                                                  â”‚    â”‚
â”‚  â”‚   )                                                                      â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   asset_chat = client.chats.create(                                     â”‚    â”‚
â”‚  â”‚       model="gemini-3-flash-preview",                                   â”‚    â”‚
â”‚  â”‚       config=GenerateContentConfig(cached_content=asset_cache.name)     â”‚    â”‚
â”‚  â”‚   )                                                                      â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   ğŸ“Œ Her modÃ¼l iÃ§in:                                                    â”‚    â”‚
â”‚  â”‚   â€¢ FarklÄ± system prompt (workflow/*.md)                                â”‚    â”‚
â”‚  â”‚   â€¢ FarklÄ± model seÃ§ilebilir (Pro vs Flash)                             â”‚    â”‚
â”‚  â”‚   â€¢ Ã–nceki modÃ¼lÃ¼n Ã§Ä±ktÄ±sÄ± input olarak                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                         TOKEN TAKÄ°P SÄ°STEMÄ°                               â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚  [7] GERÃ‡EK ZAMANLI Ä°ZLEME                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   # Her yanÄ±t sonrasÄ±:                                                  â”‚    â”‚
â”‚  â”‚   usage = response.usage_metadata                                       â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   UI GÃ¶sterimi:                                                         â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚    â”‚
â”‚  â”‚   â”‚ ğŸ“Š BaÄŸlam Durumu                       â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  324K / 1M (%32)  â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚                                        â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ ğŸ’¾ Cache KullanÄ±mÄ±:                    â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â€¢ Cached: 180K token (ÃœCRETSÄ°Z bÃ¶lÃ¼m)  â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â€¢ Fresh:  144K token (yeni iÃ§erik)     â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚                                        â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ ğŸ“ Bu Ä°stek:                           â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â€¢ Input:  12K token                    â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â€¢ Output: 3.2K token                   â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚                                        â”‚                            â”‚    â”‚
â”‚  â”‚   â”‚ â±ï¸ Cache TTL: 2:45:00 kaldÄ±             â”‚                            â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚    â”‚
â”‚  â”‚                                                                          â”‚    â”‚
â”‚  â”‚   # UyarÄ± sistemi:                                                      â”‚    â”‚
â”‚  â”‚   if usage.prompt_token_count > 800_000:                                â”‚    â”‚
â”‚  â”‚       show_warning("Token limiti yaklaÅŸÄ±yor!")                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“¦ Ã–ZET: KULLANACAÄIMIZ Ã–ZELLÄ°KLER

| Ã–zellik | KullanÄ±m | Avantaj |
|---------|----------|---------|
| **Files API** | Kaynak yÃ¼kleme | Ãœcretsiz, 48 saat, 2GB/dosya |
| **Explicit Caching** | Kaynak + System Prompt | %75 indirim, tekrar gÃ¶nderme yok |
| **Implicit Caching** | Otomatik | Ek kod gerek yok, otomatik indirim |
| **Chat API** | Senaryo yazÄ±mÄ± | Otomatik geÃ§miÅŸ yÃ¶netimi |
| **Structured Output** | JSON Ã§Ä±ktÄ± | Pydantic ile type-safe |
| **Streaming** | UX | GerÃ§ek zamanlÄ± yazÄ±m gÃ¶sterimi |
| **usage_metadata** | Token takibi | Her yanÄ±tta detaylÄ± bilgi |
| **PDF Native Text** | Kitap/PDF iÅŸleme | Metin iÃ§in token Ã¼creti YOK |

### âŒ KULLANMAYACAÄIMIZ

| Ã–zellik | Neden |
|---------|-------|
| **Live API** | GerÃ§ek zamanlÄ± ses/video iÃ§in, bizim ihtiyacÄ±mÄ±z yok |
| **Batch API** | SonuÃ§lar gecikmeli, interaktif deÄŸil |
| **Context Compression** | Åimdilik gerek yok, 1M yeterli |

---